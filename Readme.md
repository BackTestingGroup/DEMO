# 코인 백테스팅 시스템

CCXT 라이브러리와 Streamlit을 활용한 암호화폐 백테스팅 시스템입니다.

배포주소: https://backtesting-on.streamlit.app/

## 주요 기능

- **다중 거래소 지원**:

  - Binance, Binance US, Upbit, Kraken, KuCoin 등 다양한 거래소에서 데이터 가져오기
  - 거래소 연결 실패 시 대체 거래소 자동 시도
  - 거래소별 실제 수수료율 적용

- **다양한 코인 백테스팅**:

  - 거래소별 맞춤 코인 목록 제공 (BTC, ETH, ADA, SOL, XRP 등)
  - 여러 시간 프레임(1시간, 4시간, 일봉) 지원

- **현실적인 거래 환경 시뮬레이션**:

  - 고급 수수료 설정 (Maker/Taker 수수료, 동적 수수료)
  - 고급 슬리피지 설정 (거래소 기본, 수동 설정, 동적 슬리피지)
  - 코인별 변동성 계수 적용
  - 거래량 기반 동적 조정

- **다양한 트레이딩 전략**:

  - 이동평균선(MA) 교차 전략
  - RSI(상대강도지수) 전략
  - 볼린저 밴드 전략

- **고급 성과 분석**:

  - 총 수익률, MDD(최대 손실폭), 승률 등 기본 지표
  - 샤프 비율 등 위험 조정 성과 지표
  - 월별 수익률 및 수익률 분포 시각화
  - 거래 비용 분석 (수수료, 슬리피지)
  - 거래 이유별 성과 분석

- **상세한 거래 기록**:

  - 매수/매도 포인트 시각화
  - 거래 기록 및 수수료 정보
  - 포트폴리오 가치 추적
  - 거래 이유 표시 (신호, 손절매, 이익실현, 트레일링 스탑)

- **위험 관리 기능**:
  - 손절매(Stop Loss) 설정
  - 이익실현(Take Profit) 설정
  - 트레일링 스탑(Trailing Stop) 설정

## 설치 방법

1. 저장소 클론 또는 다운로드:

   ```
   git clone https://github.com/your-username/crypto-backtesting.git
   cd crypto-backtesting
   ```

2. 필요한 패키지 설치:

   ```
   pip install -r requirements.txt
   ```

3. 애플리케이션 실행:
   ```
   streamlit run app.py
   ```

## 사용 방법

1. **거래소 선택**: 데이터를 가져올 거래소를 선택합니다.
2. **코인 선택**: 백테스팅할 코인을 선택합니다.
3. **시간 프레임 설정**: 분석할 시간 단위를 선택합니다.
4. **트레이딩 전략 선택**: 백테스팅에 사용할 전략을 선택합니다.
5. **백테스팅 기간 및 초기 자본 설정**: 과거 데이터 범위와 초기 투자금을 설정합니다.
6. **고급 수수료 설정**:
   - 자동 (거래소 기본)
   - 수동 설정 (Maker/Taker 수수료)
   - 동적 수수료 (거래량 기반)
7. **고급 슬리피지 설정**:
   - 자동 (거래소 기본)
   - 수동 설정
   - 동적 슬리피지 (시장 상황 기반)
8. **위험 관리 설정**:
   - 손절매 설정
   - 이익실현 설정
   - 트레일링 스탑 설정
9. **전략 파라미터 조정**: 선택한 전략에 맞는 파라미터를 조정합니다.
10. **백테스팅 시작**: 버튼을 클릭하여 백테스팅을 실행합니다.
11. **결과 분석**: 차트, 지표, 거래 기록을 통해 전략 성능을 평가합니다.

## 데이터 캐싱

- 데이터는 `cache` 폴더에 저장되어 API 호출을 최소화합니다.
- 캐시된 데이터는 1시간 동안 유효합니다.
- API 연결에 실패하면 샘플 데이터로 대체됩니다.

## 주요 파일 구조

```
.
├── app.py              # 메인 애플리케이션 코드
├── requirements.txt    # 필요한 패키지 목록
└── cache/              # 데이터 캐싱 디렉토리
```

## 예정된 기능

- 복합 전략 지원
- 포트폴리오 백테스팅
- 전략 저장 및 불러오기
- 결과 내보내기 (CSV, PDF)
- 백테스팅 결과 비교 기능

## 주의사항

이 시스템은 교육 및 연구 목적으로 제작되었으며, 실제 투자 결정에 사용하기 전에 철저한 검증이 필요합니다. 과거 성과가 미래 성과를 보장하지 않습니다.

## 기여하기

버그 리포트, 기능 요청, 풀 리퀘스트를 환영합니다. 중요한 변경사항은 먼저 이슈를 열어 논의해 주세요.

## 라이센스

이 프로젝트는 MIT 라이센스 하에 배포됩니다.
